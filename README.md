# User Management REST API with Keploy Test Automation

This is a simple yet production-ready **User Management REST API** built using **FastAPI** and **MongoDB**, with **Keploy** integrated to automatically generate and replay API test cases.

The main goal of this project is to demonstrate how real API traffic can be converted into reliable tests without manually writing test code.

---

## ğŸ” Project Overview

This project implements a CRUD-based backend service for managing users. Along with standard API functionality, it integrates **Keploy** to record real API calls and generate test cases automatically.

It focuses on:
- Clean REST API design  
- Async backend development  
- Database integration  
- Automated testing using real traffic  
- Docker-based setup for easy execution  

---

## ğŸ›  Tech Stack

- Python 3.10+
- FastAPI
- MongoDB
- Motor (Async MongoDB driver)
- Pydantic
- Keploy
- Docker & Docker Compose
- Uvicorn

---

## âœ¨ Features

- Full CRUD operations for users  
- UUID-based user identification  
- Email validation with duplicate checks  
- Proper HTTP status codes and error handling  
- Async APIs for better performance  
- Auto-generated OpenAPI docs (Swagger)  
- Automated test generation using Keploy  
- Docker support  

---

## ğŸ“¡ API Endpoints

| Method | Endpoint | Description |
|------|---------|-------------|
| GET | `/` | API info |
| GET | `/health` | Health check |
| POST | `/api/users` | Create user |
| GET | `/api/users` | Fetch all users |
| GET | `/api/users/{user_id}` | Fetch user by ID |
| PUT | `/api/users/{user_id}` | Update user |
| DELETE | `/api/users/{user_id}` | Delete user |

---

## ğŸ§¾ User Schema

```json
{
  "user_id": "UUID",
  "name": "string",
  "email": "valid email",
  "age": "integer",
  "created_at": "datetime",
  "updated_at": "datetime"
}
```

---

## ğŸ“ Project Structure

```
keploy-project/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ main.py
â”‚   â”œâ”€â”€ database.py
â”‚   â”œâ”€â”€ models.py
â”‚   â””â”€â”€ routers/
â”‚       â””â”€â”€ users.py
â”œâ”€â”€ tests/
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ Dockerfile
â”œâ”€â”€ docker-compose.yml
â”œâ”€â”€ keploy-config.yaml
â””â”€â”€ README.md
```

---

## âš™ï¸ Setup Instructions

```bash
git clone <repo-url>
cd keploy-project
python -m venv venv
source venv/bin/activate
pip install -r requirements.txt
```

---

## â–¶ï¸ Run the Application

```bash
uvicorn app.main:app --reload
```

- API: http://localhost:8000  
- Swagger: http://localhost:8000/docs  

---

## ğŸ”§ Keploy Integration

```bash
keploy
keploy record -c "uvicorn app.main:app --port 8000"
keploy test --config keploy-config.yaml
```

Use **port 8080** while recording traffic.

---

## ğŸ³ Docker

```bash
docker-compose up --build
```

---

## ğŸ“Œ Notes

- Tests are auto-generated by Keploy  
- MongoDB must be running  
- Dynamic fields are filtered in tests  

---

**Built with FastAPI, MongoDB, and Keploy**
